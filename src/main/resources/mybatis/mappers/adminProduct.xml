<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
           "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dz.shop.Dao.AdminProductDAO">
	<select id="list" resultType="com.dz.shop.entity.ProductVO">
		select 
			*
		from product
		where title like concat('%', #{search}, '%') limit #{pageStart}, #{pageEnd}
	</select>

	<select id="listSize" parameterType="String" resultType="long">
		select count(*)
		from product
		where title like concat('%', #{search}, '%')
	</select>

	<insert id="add">
		insert into product(
		title, content, writer, price, thumbnail,
		                    regist_date, update_date)
		values (
		#{title}, #{content}, #{writer}, #{price}, #{thumbnail},
		        #{regist_date}, #{update_date}
	   )
	</insert>

	<select id="maxNo" resultType="long">
		SELECT max(no) from product;
	</select>

	<select id="findByNo" parameterType="String" resultType="com.dz.shop.entity.ProductVO">
		select *
		from product
		where no = #{no}
	</select>
</mapper>